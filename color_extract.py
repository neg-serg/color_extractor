#!/usr/bin/pypy3
from colorthief import ColorThief as ctf
from pathlib import Path  # get corrent path
from os.path import expanduser
import os


def rgb2hex(rgb):
    return f'#{rgb[0]:02x}{rgb[1]:02x}{rgb[2]:02x}'


picture_list = [
    '~/pic/wl/wallpaper-1015511.jpg',
    '~/pic/wl/wallpaper-1030022.jpg',
    '~/pic/wl/wallpaper-1183594.jpg',
    '~/pic/wl/wallpaper-1193904.jpg',
    '~/pic/wl/wallpaper-1250292.jpg',
    '~/pic/wl/wallpaper-1262623.jpg',
    '~/pic/wl/wallpaper-1299995.jpg',
    '~/pic/wl/wallpaper-1300115.jpg',
    '~/pic/wl/wallpaper-1303435.jpg',
    '~/pic/wl/wallpaper-1335053.jpg',
    '~/pic/wl/wallpaper-1410737.jpg',
    '~/pic/wl/wallpaper-1419176.jpg',
    '~/pic/wl/wallpaper-1468416.jpg',
    '~/pic/wl/wallpaper-147953.jpg',
    '~/pic/wl/wallpaper-1523675.jpg',
    '~/pic/wl/wallpaper-1540109.jpg',
    '~/pic/wl/wallpaper-1591036.jpg',
    '~/pic/wl/wallpaper-1599805.jpg',
    '~/pic/wl/wallpaper-1609303.jpg',
    '~/pic/wl/wallpaper-1609704.jpg',
    '~/pic/wl/wallpaper-1612782.jpg',
    '~/pic/wl/wallpaper-1622500.jpg',
    '~/pic/wl/wallpaper-1640034.jpg',
    '~/pic/wl/wallpaper-1640160.jpg',
    '~/pic/wl/wallpaper-1640163.jpg',
    '~/pic/wl/wallpaper-164182.jpg',
    '~/pic/wl/wallpaper-164215.jpg',
    '~/pic/wl/wallpaper-1658437.jpg',
    '~/pic/wl/wallpaper-16689.jpg',
    '~/pic/wl/wallpaper-1709311.jpg',
    '~/pic/wl/wallpaper-1717817.jpg',
    '~/pic/wl/wallpaper-172852.jpg',
    '~/pic/wl/wallpaper-1737430.jpg',
    '~/pic/wl/wallpaper-1767776.jpg',
    '~/pic/wl/wallpaper-1775151.jpg',
    '~/pic/wl/wallpaper-1775908.jpg',
    '~/pic/wl/wallpaper-1779933.jpg',
    '~/pic/wl/wallpaper-1783898.jpg',
    '~/pic/wl/wallpaper-185420.jpg',
    '~/pic/wl/wallpaper-1874306.jpg',
    '~/pic/wl/wallpaper-188973.jpg',
    '~/pic/wl/wallpaper-1892991.jpg',
    '~/pic/wl/wallpaper-1922405.jpg',
    '~/pic/wl/wallpaper-1923193.jpg',
    '~/pic/wl/wallpaper-1925460.jpg',
    '~/pic/wl/wallpaper-1940707.jpg',
    '~/pic/wl/wallpaper-1951088.jpg',
    '~/pic/wl/wallpaper-1955117.jpg',
    '~/pic/wl/wallpaper-1964785.jpg',
    '~/pic/wl/wallpaper-1968153.jpg',
    '~/pic/wl/wallpaper-1979617.jpg',
    '~/pic/wl/wallpaper-1997091.jpg',
    '~/pic/wl/wallpaper-2011895.jpg',
    '~/pic/wl/wallpaper-2064737.jpg',
    '~/pic/wl/wallpaper-2144087.png',
    '~/pic/wl/wallpaper-2149469.jpg',
    '~/pic/wl/wallpaper-2196456.png',
    '~/pic/wl/wallpaper-2219417.jpg',
    '~/pic/wl/wallpaper-2226432.jpg',
    '~/pic/wl/wallpaper-2233509.jpg',
    '~/pic/wl/wallpaper-2233511.jpg',
    '~/pic/wl/wallpaper-2233512.jpg',
    '~/pic/wl/wallpaper-2243048.jpg',
    '~/pic/wl/wallpaper-2274105.jpg',
    '~/pic/wl/wallpaper-2330559.jpg',
    '~/pic/wl/wallpaper-2368028.png',
    '~/pic/wl/wallpaper-2371684.jpg',
    '~/pic/wl/wallpaper-2372455.jpg',
    '~/pic/wl/wallpaper-2393394.jpg',
    '~/pic/wl/wallpaper-2394273.jpg',
    '~/pic/wl/wallpaper-2398090.jpg',
    '~/pic/wl/wallpaper-2430597.jpg',
    '~/pic/wl/wallpaper-2434562.jpg',
    '~/pic/wl/wallpaper-2434574.jpg',
    '~/pic/wl/wallpaper-2449452.jpg',
    '~/pic/wl/wallpaper-2459374.jpg',
    '~/pic/wl/wallpaper-2490830.jpg',
    '~/pic/wl/wallpaper-2504973.jpg',
    '~/pic/wl/wallpaper-2508871.jpg',
    '~/pic/wl/wallpaper-2509469.jpg',
    '~/pic/wl/wallpaper-2518591.jpg',
    '~/pic/wl/wallpaper-2519516.jpg',
    '~/pic/wl/wallpaper-2520564.jpg',
    '~/pic/wl/wallpaper-2522948.jpg',
    '~/pic/wl/wallpaper-2522969.jpg',
    '~/pic/wl/wallpaper-2526249.jpg',
    '~/pic/wl/wallpaper-2527347.jpg',
    '~/pic/wl/wallpaper-2528660.jpg',
    '~/pic/wl/wallpaper-2552218.jpg',
    '~/pic/wl/wallpaper-2552973.jpg',
    '~/pic/wl/wallpaper-2563433.jpg',
    '~/pic/wl/wallpaper-2585952.jpg',
    '~/pic/wl/wallpaper-2591479.jpg',
    '~/pic/wl/wallpaper-2592241.png',
    '~/pic/wl/wallpaper-2598831.png',
    '~/pic/wl/wallpaper-2610533.png',
    '~/pic/wl/wallpaper-2642541.png',
    '~/pic/wl/wallpaper-2690045.jpg',
    '~/pic/wl/wallpaper-2726603.jpg',
    '~/pic/wl/wallpaper-2750374.jpg',
    '~/pic/wl/wallpaper-2769611.jpg',
    '~/pic/wl/wallpaper-2775780.jpg',
    '~/pic/wl/wallpaper-2806916.jpg',
    '~/pic/wl/wallpaper-2809747.jpg',
    '~/pic/wl/wallpaper-2840409.jpg',
    '~/pic/wl/wallpaper-2840446.png',
    '~/pic/wl/wallpaper-2848424.jpg',
    '~/pic/wl/wallpaper-2869526.jpg',
    '~/pic/wl/wallpaper-2872835.png',
    '~/pic/wl/wallpaper-2898942.jpg',
    '~/pic/wl/wallpaper-2899959.jpg',
    '~/pic/wl/wallpaper-2901427.jpg',
    '~/pic/wl/wallpaper-2915737.jpg',
    '~/pic/wl/wallpaper-2923039.jpg',
    '~/pic/wl/wallpaper-2923950.jpg',
    '~/pic/wl/wallpaper-2950130.jpg',
    '~/pic/wl/wallpaper-2971601.jpg',
    '~/pic/wl/wallpaper-2979955.png',
    '~/pic/wl/wallpaper-3013056.jpg',
    '~/pic/wl/wallpaper-302333.jpg',
    '~/pic/wl/wallpaper-3032541.jpg',
    '~/pic/wl/wallpaper-3032664.jpg',
    '~/pic/wl/wallpaper-386512.jpg',
    '~/pic/wl/wallpaper-386515.jpg',
    '~/pic/wl/wallpaper-427898.jpg',
    '~/pic/wl/wallpaper-443675.jpg',
    '~/pic/wl/wallpaper-47777.jpg',
    '~/pic/wl/wallpaper-482839.jpg',
    '~/pic/wl/wallpaper-517401.png',
    '~/pic/wl/wallpaper-531930.jpg',
    '~/pic/wl/wallpaper-542109.jpg',
    '~/pic/wl/wallpaper-556389.jpg',
    '~/pic/wl/wallpaper-565263.jpg',
    '~/pic/wl/wallpaper-630537.jpg',
    '~/pic/wl/wallpaper-630621.jpg',
    '~/pic/wl/wallpaper-631785.png',
    '~/pic/wl/wallpaper-641885.jpg',
    '~/pic/wl/wallpaper-660137.jpg',
    '~/pic/wl/wallpaper-66408.jpg',
    '~/pic/wl/wallpaper-668368.jpg',
    '~/pic/wl/wallpaper-6849.jpg',
    '~/pic/wl/wallpaper-699656.jpg',
    '~/pic/wl/wallpaper-768108.jpg',
    '~/pic/wl/wallpaper-776905.jpg',
    '~/pic/wl/wallpaper-786995.jpg',
    '~/pic/wl/wallpaper-787472.jpg',
    '~/pic/wl/wallpaper-804938.jpg',
    '~/pic/wl/wallpaper-830866.jpg',
    '~/pic/wl/wallpaper-847560.jpg',
    '~/pic/wl/wallpaper-848916.jpg',
    '~/pic/wl/wallpaper-852378.jpg',
    '~/pic/wl/wallpaper-857123.jpg',
    '~/pic/wl/wallpaper-875162.jpg',
    '~/pic/wl/wallpaper-884164.jpg',
    '~/pic/wl/wallpaper-897238.jpg',
    '~/pic/wl/wallpaper-915218.jpg',
    '~/pic/wl/wallpaper-915949.jpg',
    '~/pic/wl/wallpaper-91762.jpg',
    '~/pic/wl/wallpaper-921953.jpg',
    '~/pic/wl/wallpaper-948827.jpg',
    '~/pic/wl/wallpaper-964607.jpg',
    '~/pic/wl/wallpaper-967030.jpg',
    '~/pic/wl/wallpaper-970579.jpg',
    '~/pic/wl/wallpaper-982381.jpg',
    '~/pic/wl/wallpaper-998089.jpg',
]


def extract_pallete(color_count=8, quality=50):
    for pic in picture_list:
        filename = os.path.normpath(os.path.realpath(expanduser(pic)))
        if Path(filename).exists():
            color_thief = ctf(expanduser(pic))
            gen_palette = color_thief.get_palette(
                color_count=color_count, quality=quality
            )
            printer = rgb2hex
            print(f'{list(map(printer, gen_palette))}')


extract_pallete()

